include components/place-select
include components/auth-modals

<!DOCTYPE html>
html
  head
    title= title
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    link(rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png")
    link(rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png")
    link(rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png")
    link(rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon")
    link(rel='stylesheet' href='/flatpickr/dist/flatpickr.min.css')
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css')
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css')
    link(rel='stylesheet' href='/css/style.css')
    link(rel='stylesheet' href='/css/index.css')
    link(rel='stylesheet' href='/css/place-select.css')
    link(rel='stylesheet' href='/css/bus-ticket.css')
  body
    .gtr-header
      .d-flex.justify-content-between.align-items-center.flex-wrap.gtr-header__inner
        a.navbar-brand(href="/")
          img(src="/images/gotur_vip_logo_white.png" alt="GOTUR")
        button.gtr-header__toggle(type='button' aria-label='Open menu' aria-controls='gtrHeaderLinks' aria-expanded='false')
          i.fa-solid.fa-bars
        .d-flex.gap-3.align-items-center.gtr-header__links#gtrHeaderLinks
          a.gtr-link#findMyTicket(href='/find-ticket')
            i.fa-solid.fa-magnifying-glass.me-1
            |Find My Ticket
          if currentUser
            a.gtr-link#myTrips(href='/user/my-trips' role='button')
              i.fa-solid.fa-road.me-1
              |My Trips
            a.gtr-link#accounrPersonalInfo(href='/user?section=personal' role='button')
              i.fa-solid.fa-user.me-1
              |My Account
            a.gtr-link#logoutButton(href='#' role='button')
              i.fa-solid.fa-right-from-bracket.me-1
              |Log Out
          else
            a.gtr-link(href='javascript:void(0)' role='button' data-popup-open='loginPopup')
              i.fa-solid.fa-user-check.me-1
              |Log In
            a.gtr-link(href='javascript:void(0)' role='button' data-popup-open='registerPopup')
              i.fa-solid.fa-user-plus.me-1
              |Sign Up
      - const fromValue = typeof fromId !== 'undefined' ? fromId : '';
      - const toValue = typeof toId !== 'undefined' ? toId : '';
      p.slogan Fast & Simple Bus Ticketing
      .trip-finder.border
        .trip-finder_selects
          .d-flex.flex-column
            span
              i.fa-solid.fa-bus-side.me-1
              span From where?
            +placeSelect({
              placeholder: 'Select Departure',
              searchPlaceholder: 'Type a city or district...',
              input: {
                class: 'trip-finder_from',
                name: 'from',
                value: fromValue
              }
            })
          span.trip-finder_change
            i.fa-solid.fa-arrow-right-arrow-left
          .d-flex.flex-column
            span
              i.fa-solid.fa-bus-side.me-1
              span To where?
            +placeSelect({
              placeholder: 'Select Arrival',
              searchPlaceholder: 'Type a city or district...',
              input: {
                class: 'trip-finder_to',
                name: 'to',
                value: toValue
              }
            })
          .d-flex.flex-column
            span
              i.fa-solid.fa-calendar.me-1
              span When?
            input.trip-finder_date(type='text')
          .trip-finder_day-buttons
            button.trip-finder_day-button(data-day='today' type='button') Today
            button.trip-finder_day-button(data-day='tomorrow' type='button') Tomorrow
          button.trip-finder_search-button SEARCH
    if !currentUser
      +authModals()
    .container
      .mt-4.coming-soon
        hr
        //- .coming-soon-marquee.ms-3
        //-   .marquee.marquee--rtl
        //-     p.w-100.m-0 ...Yapım Aşamasında...
        .coming-soon__logos.d-flex.flex-wrap.justify-content-center
          a(target="_blank" href="https://anafartalarvipturizm.com/") 
            img.coming-soon-firm(src="/images/anafartalarturizm.png" alt="Anafartalar Turizm")
          a(target="_blank" href="https://bigakale.com.tr/") 
            img.coming-soon-firm(src="/images/bigakale.png" alt="Biga Kale")
          a(target="_blank" href="https://trakyavip.com.tr/") 
            img.coming-soon-firm(src="/images/trakya_vip.png" alt="Trakya Vip")
          a(target="_blank" href="https://cortur.com.tr/") 
            img.coming-soon-firm(src="/images/cortur.png" alt="Cortur")
          //- a(target="_blank" href="https://arenaturizm.com/") 
          //-   img.coming-soon-firm(src="/images/arena.png" alt="Arena Turizm")
          //- .coming-soon-marquee.ms-3
          //-   .marquee.marquee--ltr
          //-     p.w-100.text-end.m-0 ...Yapım Aşamasında...
          hr
      .home-attributes.mt-4
        .attribute.d-flex.flex-column
          img.attributes_icon(src="/svg/customer_service_icon.svg" alt="Solution-Oriented Online Support")
          h4 Solution-Oriented Online Support
          p We’re here for you every step of your journey. Our online support team helps quickly and effectively with ticket purchases, cancellations, and changes. Relax — we’ve got you.
        .attribute.d-flex.flex-column
          img.attributes_icon(src="/svg/secure_payment_icon.svg" alt="Secure Payment")
          h4 Secure Payment
          p Your payments are protected with advanced security systems. With fast, easy, and secure payment options, you can focus on your trip — we’ll handle the rest.
        .attribute.d-flex.flex-column
          img.attributes_icon(src="/svg/ticket_icon.svg" alt="Great Value Tickets")
          h4 Great Value Tickets
          p We care about your budget. Find affordable, great-value tickets easily and enjoy a pleasant trip with the best options.
        .attribute.d-flex.flex-column
          img.attributes_icon(src="/svg/hand_icon.svg" alt="Easy Process")
          h4 Easy Process
          p No complicated steps needed! With our user-friendly system, searching, comparing, and buying your ticket takes just a few minutes. Wherever you are, it’s easy.
        .attribute.d-flex.flex-column
          img.attributes_icon(src="/svg/campaigns_icon.svg" alt="User-Friendly Campaigns")
          h4 User-Friendly Campaigns
          p Everyone loves a good deal — we know. With special discounts and campaigns, we make your trips more affordable. Great-value tickets are always at your fingertips.
      if promoRoutes && promoRoutes.length
        .attribute-routes.mt-5
          .bus-ticket-results__header
            .bus-ticket-results__title
              h2 A Little Inspiration
              p.bus-ticket-results__subtitle Ready to explore? Get inspired by popular routes we’ve picked for you.
          ul.list-unstyled.mb-0.attribute-routes__grid
            each route in promoRoutes
              - const routeUrl = `/bus-ticket/${route.fromSlug}-${route.toSlug}`;
              li
                a.attribute-route(href=routeUrl)
                  .attribute-route__destinations
                    span.attribute-route__city #{route.fromTitle}
                    i.fa-solid.fa-arrow-right-long.mx-2
                    span.attribute-route__city #{route.toTitle}
                  .attribute-route__meta
                    span.attribute-route__tag View Trips
                    span.attribute-route__price
                      span.attribute-route__price-value #{route.formattedPrice}
                      span.attribute-route__price-currency ₺
                      span.attribute-route__price-note starting from
      if blogPosts && blogPosts.length
        section.bus-ticket-blog.mt-5
          .container
            .bus-ticket-blog__header
              .bus-ticket-blog__title
                h2 Latest Blog Posts
                p.bus-ticket-blog__subtitle Discover our newest content curated for travel lovers.
              a.bus-ticket-blog__all(href='/blog')
                |All Articles
                i.fa-solid.fa-arrow-right
            .row.g-4
              each post in blogPosts
                .col-12.col-md-6.col-xl-3
                  article.bus-ticket-blog-card
                    a.bus-ticket-blog-card__link(href=`/blog/${post.slug}`)
                      if post.coverImage
                        figure.bus-ticket-blog-card__media
                          img(src=`/blog/images/${post.coverImage}` alt=post.title loading='lazy')
                      else
                        figure.bus-ticket-blog-card__media.bus-ticket-blog-card__media--placeholder
                          - const postInitial = (post.title || '').charAt(0) || '?'
                          span.bus-ticket-blog-card__placeholder-initials #{postInitial}
                      .bus-ticket-blog-card__body
                        if post.displayDate
                          span.bus-ticket-blog-card__date #{post.displayDate}
                        h3.bus-ticket-blog-card__heading #{post.title}
                        if post.tags && post.tags.length
                          ul.bus-ticket-blog-card__tags
                            each tag in post.tags.slice(0, 3)
                              li #{tag}
  script(src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js")
  script(src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js")
  script(src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/js/all.min.js")
  script(src="https://code.jquery.com/jquery-3.7.1.min.js")
  script(src="/flatpickr/dist/flatpickr.min.js")
  script(src="/flatpickr/dist/l10n/en.js")
  script(src="/js/place-select.js")
  script(src="/js/header.js")
  script(src='/js/index.js')