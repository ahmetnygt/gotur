extends layout-no-image
include components/place-select

block head
    title #{title}
    meta(name="description" content=description)
    meta(property="og:title" content=title)
    meta(property="og:description" content=description)
    meta(property="og:type" content="website")
    meta(property="og:url" content=request.url)
    meta(property="og:site_name" content="Götür")
    link(rel="canonical" href=request.url)

block css
    link(rel='stylesheet' href='/css/style.css')
    link(rel='stylesheet' href='/css/index.css')
    link(rel='stylesheet' href='/css/place-select.css')
    link(rel='stylesheet' href='/css/bus-ticket.css')

block content
    - const defaultTripsUrl = `/trips/${fromValue}-${toValue}/${defaultDate}`;
    .container.px-4
        h1.bus-ticket-header.my-3 #{fromTitle} - #{toTitle} Otobüs Bileti
    .trip-finder-container
        .trip-finder-static.border
            .trip-finder_selects
                .d-flex.flex-column
                    span
                        i.fa-solid.fa-bus-side.me-1
                        span Nereden?
                    +placeSelect({
                        placeholder: 'Kalkış Seçin',
                        searchPlaceholder: 'İl-ilçe adı yazın...',
                        input: {
                            class: 'trip-finder_from',
                            name: 'from',
                            value: fromValue
                        }
                    })
                span.trip-finder_change
                    i.fa-solid.fa-arrow-right-arrow-left
                .d-flex.flex-column
                    span
                        i.fa-solid.fa-bus-side.me-1
                        span Nereye?
                    +placeSelect({
                        placeholder: 'Varış Seçin',
                        searchPlaceholder: 'İl-ilçe adı yazın...',
                        input: {
                            class: 'trip-finder_to',
                            name: 'to',
                            value: toValue
                        }
                    })
                .d-flex.flex-column
                    span
                        i.fa-solid.fa-calendar.me-1
                        span Ne Zaman?
                    input.trip-finder_date(type='text')
                .trip-finder_day-buttons
                    button.trip-finder_day-button(data-day='today' type='button') Bugün
                    button.trip-finder_day-button(data-day='tomorrow' type='button') Yarın
                button.trip-finder_search-button ARA
    section.bus-ticket-results(data-from-id=fromValue data-to-id=toValue data-default-date=defaultDate data-default-date-display=defaultDateDisplay data-default-date-weekday=defaultDateWeekday)
        .container
            .bus-ticket-results__header
                .bus-ticket-results__title
                    h2 #{fromTitle} - #{toTitle} Popüler Seferler
                    p.bus-ticket-results__subtitle Yarın için uygun seferleri sizin için listeliyoruz.
                a.bus-ticket-results__see-all.btn.btn-outline-primary.btn-sm(href=defaultTripsUrl) Tüm seferleri gör
            .bus-ticket-results__status
                .bus-ticket-results__loading
                    span.spinner-border.spinner-border-sm(role='status' aria-hidden='true')
                    span.ms-2 Yarın (#{defaultDateDisplay}) için seferler yükleniyor...
                .bus-ticket-results__error.alert.alert-danger.d-none Seferler yüklenemedi. Lütfen daha sonra tekrar deneyin.
                .bus-ticket-results__empty.alert.alert-warning.d-none Bu rota için yarına ait sefer bulamadık.
            .bus-ticket-results__grid(role='list')

block scripts
    script(src='/js/index.js')